<header id="site-header">
    <div class="header-container">
      <div class="logo">
        <a href="/index.html">
          <img src="/assets/images/logo.svg" alt="Metanoia Logo">
        </a>
      </div>
      
      <nav class="main-nav" id="main-nav">
        <!-- Navigation will be dynamically loaded based on role -->
      </nav>
      
      <div class="header-actions">
        <div id="role-badge" class="role-badge">
          <span>Browsing as: <span id="role-text">Student</span></span>
          <i class="caret-icon"></i>
        </div>
        
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
          <img src="/assets/images/icons/moon.svg" alt="Switch to dark mode">
        </button>
        
        <button id="search-toggle" class="search-toggle" aria-label="Search">
          <img src="/assets/images/icons/search.svg" alt="Search">
        </button>
        
        <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
    
    <!-- Search overlay -->
    <div id="search-overlay" class="search-overlay">
      <div class="search-container">
        <input type="text" id="search-input" placeholder="Search...">
        <div id="search-results" class="search-results"></div>
      </div>
    </div>
  </header>
  
  <!-- Script to populate navigation based on role -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const role = localStorage.getItem('role') || 'student';
      const mainNav = document.getElementById('main-nav');
      const roleText = document.getElementById('role-text');
      
      // Set role text
      if (roleText) {
        roleText.textContent = role.charAt(0).toUpperCase() + role.slice(1);
      }
      
      // Set navigation links based on role
      if (mainNav) {
        if (role === 'student') {
          mainNav.innerHTML = `
            <ul>
              <li><a href="/student/index.html">Home</a></li>
              <li class="has-dropdown">
                <a href="#">Modules</a>
                <ul class="dropdown">
                  <li><a href="/student/modules/module1.html">Module 1: Awakening to Plastic</a></li>
                  <li><a href="/student/modules/module2.html">Module 2: Reimagining Waste</a></li>
                  <li><a href="/student/modules/module3.html">Module 3: Seeing Beneath the Surface</a></li>
                  <li><a href="/student/modules/module4.html">Module 4: Unlearning to Innovate</a></li>
                  <li><a href="/student/modules/module5.html">Module 5: Design for Impact</a></li>
                  <li><a href="/student/modules/module6.html">Module 6: Collective Impact</a></li>
                  <li><a href="/student/modules/module7.html">Module 7: Advocacy in Action</a></li>
                  <li><a href="/student/modules/module8.html">Module 8: Sustainable Leadership</a></li>
                </ul>
              </li>
              <li><a href="/student/glossary.html">Glossary</a></li>
              <li><a href="/student/resources.html">Resources</a></li>
              <li><a href="/about.html">About</a></li>
              <li><a href="/contact.html">Contact</a></li>
            </ul>
          `;
        } else if (role === 'teacher') {
          mainNav.innerHTML = `
            <ul>
              <li><a href="/teacher/index.html">Home</a></li>
              <li><a href="/teacher/index.html#curriculum-overview">Curriculum Overview</a></li>
              <li><a href="/teacher/pacing.html">Pacing Guide</a></li>
              <li><a href="/teacher/resources.html">Resources & Templates</a></li>
              <li><a href="/teacher/glossary.html">Glossary</a></li>
              <li><a href="/teacher/career-pathways.html">Career Pathways</a></li>
              <li><a href="/about.html">About</a></li>
              <li><a href="/contact.html">Contact</a></li>
            </ul>
          `;
        }
      }
      
      // Add event listener to theme toggle
      const themeToggle = document.getElementById('theme-toggle');
      if (themeToggle) {
        themeToggle.addEventListener('click', toggleTheme);
      }
      
      // Add event listener to search toggle
      const searchToggle = document.getElementById('search-toggle');
      const searchOverlay = document.getElementById('search-overlay');
      if (searchToggle && searchOverlay) {
        searchToggle.addEventListener('click', function() {
          searchOverlay.classList.toggle('show');
          if (searchOverlay.classList.contains('show')) {
            document.getElementById('search-input').focus();
          }
        });
      }
      
      // Mobile menu toggle
      const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
      if (mobileMenuToggle) {
        mobileMenuToggle.addEventListener('click', function() {
          this.classList.toggle('active');
          mainNav.classList.toggle('active');
        });
      }
    });
  </script>